'use strict';

// MODULES //

var internalCompreal = require( './internal_compreal.js' );


// MAIN //

/**
* Computes the complex division (re1 + i * im1) / (re2 + i * im2).
*
* @private
* @param {Array<number>} buffer - array into which to write the result
* @param {number} re1 - real component
* @param {number} im1 - imaginary component
* @param {number} re2 - real component
* @param {number} im2 - imaginary component
*/
function robustInternal( buffer, re1, im1, re2, im2 ) {
	var r;
	var t;

	r = im2 / re2;
	t = 1.0 / ( re2 + ( im2 * r ) );

	buffer[0] = internalCompreal( re1, im1, re2, im2, r, t );
	buffer[1] = internalCompreal( im1, -re1, re2, im2, r, t );
} // end FUNCTION robustInternal


// EXPORTS //

module.exports = robustInternal;
