<!--

@license Apache-2.0

Copyright (c) 2024 The Stdlib Authors.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

-->

# Unicode Table

> Create a Unicode table.

<section class="usage">

## Usage

```javascript
var UnicodeTable = require( '@stdlib/plot/table/unicode' );
```

#### UnicodeTable( \[data,] \[headers,] \[options] )

Returns a table instance.

```javascript
var table = new UnicodeTable();
```

The constructor accepts the following `options`:

-   **alignment**: datum's cell alignment. Default: `'right'`.

-   **autoRender**: `boolean` indicating whether to re-render on a `change` event. Default: `false`.

-   **borders**: border characters. Default: `[ '─', '│', '─', '│' ]`.

-   **bufferSize**: data buffer size. If provided, data is kept in a first-in first-out (FIFO) buffer which cannot exceed the buffer size. Default: `+infinity`.

-   **cellPaddingLeft**: cell's left padding. Default: `1`.

-   **cellPaddingRight**: cell's right padding. Default: `1`.

-   **columnSeparator**: column separator character(s). Default: `'│'`.

-   **corners**: corner characters. Default: `[ '┌', '┐', '┘', '└' ]`.

-   **headerSeparator**: header separator character(s). Default: `'─'`.

-   **horizontalSeparatorMode**: Horizontal line separator mode. The following modes are supported:

    -   `resume`: resume line sequence after a joint.
    -   `interpolate`: skip line character at a joint.
    -   `repeat`: repeat line sequence after a joint.
  
    Default: `resume`.

-   **joints**: joint characters. Default: `[ '┼', '┬', '┤', '┴', '├' ]`.

-   **marginX**: horizontal output margin. Default: `0`.

-   **marginY**: vertical output margin. Default: `0`.

-   **maxCellWidth**: maximum cell width(s). Default: `+infinity`.

-   **maxOutputWidth**: maximum output width. Default: `+infinity`.

-   **rowSeparator**: row separator character(s). Default: `''`.

-   **verticalSeparatorMode**: Vertical line separator mode. The following modes are supported:

    -   `resume`: resume line sequence after a joint.
    -   `interpolate`: skip line character at a joint.
    -   `repeat`: repeat line sequence after a joint.
  
    Default: `resume`.

* * *

### Writable Properties

<a name="prop-alignment"></a>

#### UnicodeTable.prototype.alignment

Alignment(s) of datum in cell. The value must be either `'right'`, `'left'`, or `'center'` or an array of them.

```javascript
var table = new UnicodeTable();

// Set:
table.alignment = 'center';

// Get:
var alignment = table.alignment;
// returns 'center'

// Set:
table.alignment = [ 'left', 'right', 'center' ];

// Get:
alignment = table.alignment;
// returns [ 'left', 'right', 'center' ]
```

<a name="prop-auto-render"></a>

#### UnicodeTable.prototype.autoRender

Rendering mode. If `true`, an instance renders on each `'change'` event; otherwise, rendering must be triggered manually.

```javascript
var table = new UnicodeTable();

// Set:
table.autoRender = false;

// Get:
var mode = table.autoRender;
// returns false
```

<a name="prop-borders"></a>

#### UnicodeTable.prototype.borders

Border characters. Must be an array of `four` strings in the order `[ 'top', 'right', 'bottom', 'left' ]`.

```javascript
var table = new UnicodeTable();

// Set:
table.borders = [ '=', '!', '=', '!' ];

// Get:
var borders = table.borders;
// returns [ '=', '!', '=', '!' ]
```

<a name="prop-buffer-size"></a>

#### UnicodeTable.prototype.bufferSize

Data buffer size. If set, this specifies the maximum number of rows which can be rendered. Once the data buffer is full, each new row results in the oldest row being removed.

```javascript
var table = new UnicodeTable();

// Set:
table.bufferSize = 3;

// Get:
var size = table.bufferSize;
// returns 3

table.data = [ [ 1, 2 ], [ 3, 4 ], [ 5, 6 ] ];

var data = table.data;
// returns [ [ 1, 2 ], [ 3, 4 ], [ 5, 6 ] ]

table.push( [ 7, 8 ] );

data = table.data;
// returns [ [ 3, 4 ], [ 5, 6 ], [ 7, 8 ] ]
```

Setting a data buffer size is useful when rendering data streams.

<a name="prop-cell-padding-left"></a>

#### UnicodeTable.prototype.cellPaddingLeft

Cell's left padding(s). Pads the left side of the cell with whitespace characters. Pad each cell individually by providing an array of paddings.

```javascript
var table = new UnicodeTable();

// Set:
table.cellPaddingLeft = 3;

// Get:
var padding = table.cellPaddingLeft;
// returns 3

// Set:
table.cellPaddingLeft = [ 3, 4 ];

// Get:
padding = table.cellPaddingLeft;
// returns [ 3, 4 ]
```

<a name="prop-cell-padding-right"></a>

#### UnicodeTable.prototype.cellPaddingRight

Cell's right padding(s). Pads the right side of the cell with whitespace characters. Pad each cell individually by providing an array of paddings.

```javascript
var table = new UnicodeTable();

// Set:
table.cellPaddingRight = 3;

// Get:
var padding = table.cellPaddingRight;
// returns 3

// Set:
table.cellPaddingRight = [ 3, 4 ];

// Get:
padding = table.cellPaddingRight;
// returns [ 3, 4 ]
```

<a name="prop-column-separator"></a>

#### UnicodeTable.prototype.columnSeparator

Column separator character(s). If provided a string with multiple graphmeme clusters, each grapheme cluster is rendered sequentially. No separator is rendered if provided an empty string.

```javascript
var table = new UnicodeTable();

// Set:
table.columnSeparator = '|';

// Get:
var separator = table.columnSeparator;
// returns '|'
```

<a name="prop-corners"></a>

#### UnicodeTable.prototype.corners

Corner characters. Must be an array of `four` grapheme clusters in the order `[ 'top-left', 'top-right', 'bottom-right', 'bottom-left' ]`.

```javascript
var table = new UnicodeTable();

// Set:
table.corners = [ '*', '*', '*', '*' ];

// Get:
var corners = table.corners;
// returns [ '*', '*', '*', '*' ]
```

<a name="prop-data"></a>

#### UnicodeTable.prototype.data

Table data. Must be an array of arrays or a MatrixLike ndarray and should not exceed the `bufferSize`.

```javascript
var table = new UnicodeTable();

// Set:
table.data = [ [ 1, 2 ], [ 3, 4 ] ];

// Get:
var data = table.data;
// returns [ [ 1, 2 ], [ 3, 4 ] ]
```

<a name="prop-headers"></a>

#### UnicodeTable.prototype.headers

Table headers. Must be an array.

```javascript
var table = new UnicodeTable();

// Set:
table.headers = [ 'A', 'B' ];

// Get:
var headers = table.headers;
// returns [ 'A', 'B' ]
```

<a name="prop-header-separator"></a>

#### UnicodeTable.prototype.headerSeparator

Header separator character(s). If provided a string with multiple graphmeme clusters, each grapheme cluster is rendered sequentially. No separator is rendered if provided an empty string.

```javascript
var table = new UnicodeTable();

// Set:
table.headerSeparator = '-';

// Get:
var separator = table.headerSeparator;
// returns '-'
```

<a name="prop-horizontal-separator-mode"></a>

#### UnicodeTable.prototype.horizontalSeparatorMode

Horizontal line separator mode. The following modes are supported:

-   `resume`: resume line sequence after a joint.
-   `interpolate`: skip line character at a joint.
-   `repeat`: repeat line sequence after a joint.

```javascript
var table = new UnicodeTable();

// Set:
table.horizontalSeparatorMode = 'interpolate';

// Get:
var mode = table.horizontalSeparatorMode;
// returns 'interpolate'
```

<a name="prop-joints"></a>

#### UnicodeTable.prototype.joints

Joint characters. Must be an array of `five` grapheme clusters in the order `[ 'middle', 'top', 'right', 'bottom', 'left' ]`.

```javascript
var table = new UnicodeTable();

// Set:
table.joints = [ '*', '*', '*', '*', '*' ];

// Get:
var joints = table.joints;
// returns [ '*', '*', '*', '*', '*' ]
```

<a name="prop-margin-x"></a>

#### UnicodeTable.prototype.marginX

Horizontal output margin. This will add margin to both left and right of the output.

```javascript
var table = new UnicodeTable();

// Set:
table.marginX = 2;

// Get:
var margin = table.marginX;
// returns 2
```

<a name="prop-margin-y"></a>

#### UnicodeTable.prototype.marginY

Vertical output margin. This will add margin to both top and bottom of the output.

```javascript
var table = new UnicodeTable();

// Set:
table.marginY = 2;

// Get:
var margin = table.marginY;
// returns 2
```

<a name="prop-max-cell-width"></a>

#### UnicodeTable.prototype.maxCellWidth

Maximum cell width. If a datum is longer than the maximum cell width, it is truncated. Truncate each cell individually by providing an array of widhts.

```javascript
var table = new UnicodeTable();

// Set:
table.maxCellWidth = 10;

// Get:
var width = table.maxCellWidth;
// returns 10

// Set:
table.maxCellWidth = [ 10, 15 ];

// Get:
width = table.maxCellWidth;
```

<a name="prop-max-output-width"></a>

#### UnicodeTable.prototype.maxOutputWidth

Maximum output width. If the output is longer than the maximum output width, it is wrapped into multiple tables.

```javascript
var table = new UnicodeTable();

// Set:
table.maxOutputWidth = 200;

// Get:
var width = table.maxOutputWidth;
// returns 200
```

<a name="prop-row-separator"></a>

#### UnicodeTable.prototype.rowSeparator

Row separator character(s). If provided a string with multiple graphmeme clusters, each grapheme cluster is rendered sequentially. No separator is rendered if provided an empty string.

```javascript
var table = new UnicodeTable();

// Set:
table.rowSeparator = '-';

// Get:
var separator = table.rowSeparator;
// returns '-'
```

<a name="prop-vertical-separator-mode"></a>

#### UnicodeTable.prototype.verticalSeparatorMode

Vertical line separator mode. The following modes are supported:

-   `resume`: resume line sequence after a joint.
-   `interpolate`: skip line character at a joint.
-   `repeat`: repeat line sequence after a joint.

```javascript
var table = new UnicodeTable();

// Set:
table.verticalSeparatorMode = 'interpolate';

// Get:
var mode = table.verticalSeparatorMode;
// returns 'interpolate'
```

* * *

### Methods

<a name="method-push"></a>

#### UnicodeTable.prototype.push( row )

Appends a row to table data. The row must have the same number of columns as existing data.

```javascript
var table = new UnicodeTable( [ [ 1, 2, 3 ], [ 4, 5, 6 ] ] );

// Get:
var data = table.data;
// returns [ [ 1, 2, 3 ], [ 4, 5, 6 ] ]

// Push:
table.push( [ 7, 8, 9 ] );

// Get:
data = table.data;
// returns [ [ 1, 2, 3 ], [ 4, 5, 6 ], [ 7, 8, 9 ] ]
```

<a name="method-render"></a>

#### UnicodeTable.prototype.render()

Renders a Unicode table.

```javascript
var headers;
var table;
var data;

headers = [ 'col1', 'col2', 'col3' ];
data = [ [ 1, 2, 3 ], [ 4, 5, 6 ] ];
table = new UnicodeTable( data, headers );

var str = table.render();
// returns '...'
```

* * *

### Events

#### 'change'

Emitted whenever a property value changes.

```javascript
var table = new UnicodeTable();

table.on( 'change', onChange );

function onChange() {
    console.log( 'A property was updated.' );
}
```

#### 'render'

Emitted whenever a sparkline is rendered.

```javascript
var table = new UnicodeTable();

table.on( 'render', onRender );

function onRender( str ) {
    console.log( 'Rendered table: %s', str );
}
```

</section>

<!-- /.usage -->

<section class="notes">

</section>

<!-- /.notes -->

<section class="examples">

* * *

## Examples

<!-- eslint-disable stdlib/no-redeclare -->

<!-- eslint no-undef: "error" -->

```javascript
var uniform = require( '@stdlib/random/array/uniform' );
var array = require( '@stdlib/ndarray/array' );
var ctor = require( '@stdlib/plot/table/unicode' );

var headers;
var table;
var data;
var str;

// Generate some random data...
data = uniform( 50, 1, 100 );
data = array( data, {
    'shape': [ 10, 5 ]
});

// Generate headers...
headers = [ 'A', 'B', 'C', 'D', 'E' ];

// Create a table:
table = ctor( data, headers );

// Render the table:
str = table.render();
console.log( str );
// => '...'
```

</section>

<!-- /.examples -->

* * *

## See Also

</section>

<!-- /.related -->

<!-- Section for all links. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="links">

<!-- <related-links> -->

<!-- </related-links> -->

</section>

<!-- /.links -->
