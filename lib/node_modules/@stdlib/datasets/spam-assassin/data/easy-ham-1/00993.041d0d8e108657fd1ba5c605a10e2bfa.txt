From exmh-users-admin@redhat.com  Wed Sep 11 13:42:07 2002
Return-Path: <exmh-users-admin@spamassassin.taint.org>
Delivered-To: yyyy@localhost.spamassassin.taint.org
Received: from localhost (jalapeno [127.0.0.1])
	by jmason.org (Postfix) with ESMTP id 2AB1316F03
	for <jm@localhost>; Wed, 11 Sep 2002 13:42:07 +0100 (IST)
Received: from jalapeno [127.0.0.1]
	by localhost with IMAP (fetchmail-5.9.0)
	for jm@localhost (single-drop); Wed, 11 Sep 2002 13:42:07 +0100 (IST)
Received: from listman.spamassassin.taint.org (listman.spamassassin.taint.org [66.187.233.211]) by
    dogma.slashnull.org (8.11.6/8.11.6) with ESMTP id g8AIwYC12426 for
    <jm-exmh@jmason.org>; Tue, 10 Sep 2002 19:58:34 +0100
Received: from listman.spamassassin.taint.org (localhost.localdomain [127.0.0.1]) by
    listman.redhat.com (Postfix) with ESMTP id DAA593ED6C; Tue, 10 Sep 2002
    14:58:48 -0400 (EDT)
Delivered-To: exmh-users@listman.spamassassin.taint.org
Received: from int-mx2.corp.spamassassin.taint.org (nat-pool-rdu-dmz.spamassassin.taint.org
    [172.16.52.200]) by listman.redhat.com (Postfix) with ESMTP id D850E40193
    for <exmh-users@listman.redhat.com>; Tue, 10 Sep 2002 14:00:34 -0400 (EDT)
Received: (from mail@localhost) by int-mx2.corp.spamassassin.taint.org (8.11.6/8.11.6)
    id g8AFvEN06460 for exmh-users@listman.redhat.com; Tue, 10 Sep 2002
    11:57:14 -0400
Received: from mx2.spamassassin.taint.org ([172.16.26.25]) by int-mx2.corp.spamassassin.taint.org
    (8.11.6/8.11.6) with SMTP id g8AFvDd06453 for <exmh-users@redhat.com>;
    Tue, 10 Sep 2002 11:57:14 -0400
Received: from postal3.es.net (postal3.es.net [198.128.3.207]) by
    mx2.redhat.com (8.11.6/8.11.6) with SMTP id g8AFews27980 for
    <exmh-users@redhat.com>; Tue, 10 Sep 2002 11:40:59 -0400
Received: from ptavv.es.net ([198.128.4.29]) by postal3.es.net (Postal
    Node 3) with ESMTP id GQF37091; Tue, 10 Sep 2002 08:56:48 -0700
Received: from ptavv (localhost [127.0.0.1]) by ptavv.es.net (Postfix)
    with ESMTP id 0B7FF5D04; Tue, 10 Sep 2002 08:56:47 -0700 (PDT)
To: exmh-users@spamassassin.taint.org
Cc: Rick Baartman <baartman@lin12.triumf.ca>
Subject: Re: Sorting
In-Reply-To: Your message of
    "Mon, 09 Sep 2002 22:06:58 CDT."
    <3642.1031627218@dimebox>
MIME-Version: 1.0 (generated by tm-edit 1.8)
Content-Type: multipart/mixed; boundary="Multipart_Tue_Sep_10_08:56:11_2002-1"
Content-Transfer-Encoding: 7bit
From: "Kevin Oberman" <oberman@es.net>
Message-Id: <20020910155647.0B7FF5D04@ptavv.es.net>
X-Loop: exmh-users@spamassassin.taint.org
Sender: exmh-users-admin@spamassassin.taint.org
Errors-To: exmh-users-admin@spamassassin.taint.org
X-Beenthere: exmh-users@spamassassin.taint.org
X-Mailman-Version: 2.0.1
Precedence: bulk
Reply-To: exmh-users@spamassassin.taint.org
List-Help: <mailto:exmh-users-request@spamassassin.taint.org?subject=help>
List-Post: <mailto:exmh-users@spamassassin.taint.org>
List-Subscribe: <https://listman.spamassassin.taint.org/mailman/listinfo/exmh-users>,
    <mailto:exmh-users-request@redhat.com?subject=subscribe>
List-Id: Discussion list for EXMH users <exmh-users.spamassassin.taint.org>
List-Unsubscribe: <https://listman.spamassassin.taint.org/mailman/listinfo/exmh-users>,
    <mailto:exmh-users-request@redhat.com?subject=unsubscribe>
List-Archive: <https://listman.spamassassin.taint.org/mailman/private/exmh-users/>
Date: Tue, 10 Sep 2002 08:56:47 -0700

--Multipart_Tue_Sep_10_08:56:11_2002-1
Content-Type: text/plain; charset=US-ASCII

> From: Hal DeVore <haldevore@acm.org>
> Sender: exmh-users-admin@spamassassin.taint.org
> Date: Mon, 09 Sep 2002 22:06:58 -0500
> 
> 
> 
> >>>>> On Mon, 9 Sep 2002, "Rick" == Rick Baartman wrote:
> 
>   Rick> This is dangerous; I have to remember to re-scan each
>   Rick> folder I enter. Is there a safeguard for this?
> 
> Nope.  Regenerate the cache in the script
> 
> 	for f in `folders -fast -r`
> 	do
> 		echo sorting $f ...
> 		sortm +$f
> 		scan `mhpath +`/$f/.xmhcache
> 	done
> 
> --Hal

Here is the little script I run I run nightly from cron. It does a
general tidying of things including sorting and updating the cache.

I didn't write it and I'm afraid I have lost track of who did, but
it's worked well for years. I run a similar one to update the glimpse
indices nightly.

R. Kevin Oberman, Network Engineer
Energy Sciences Network (ESnet)
Ernest O. Lawrence Berkeley National Laboratory (Berkeley Lab)
E-mail: oberman@es.net			Phone: +1 510 486-8634


--Multipart_Tue_Sep_10_08:56:11_2002-1
Content-Type: application/octet-stream
Content-Disposition: attachment; filename="swasort"
Content-Transfer-Encoding: 7bit

#!/bin/tcsh -f
# 
#  Sorts all folders
#
#  We don't want to sort the drafts folder (and the folders ~/Mail/.glimpse/)
#
#  default field to sort .: date
#  default scan width ....: 100
#
set MH_DIR=/usr/local/nmh/bin
set MAIL=/home/oberman/Mail

# update $MAIL/.folders
$MH_DIR/folders -fast -recurse -all > $MAIL/.folders

# thru all folders ...
foreach i ( `cat $MAIL/.folders | grep -v \.glim | grep -v drafts` )

    # sort the stuff
    $MH_DIR/mh/sortm +$i -datefield date >& /dev/null

    # and update the cache
    $MH_DIR/scan +$i -width 100 > $MAIL/$i/.xmhcache
end

--Multipart_Tue_Sep_10_08:56:11_2002-1--



_______________________________________________
Exmh-users mailing list
Exmh-users@redhat.com
https://listman.redhat.com/mailman/listinfo/exmh-users


