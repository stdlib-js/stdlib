'use strict';

// MODULES //

var GlobalWeakSet = require( './weakset.js' );


// MAIN //

/**
* Tests for native `WeakSet` support.
*
* @returns {boolean} boolean indicating if an environment has `WeakSet` support
*
* @example
* var bool = hasWeakSetSupport();
* // returns <Boolean>
*/
function hasWeakSetSupport() {
	var bool;
	var val;
	var ws;

	if ( typeof GlobalWeakSet !== 'function' ) {
		return false;
	}
	// Test basic support...
	try {
		val = {};
		ws = new GlobalWeakSet();
		ws.add( val );
		ws.add( val );
		bool = ws.has( val );
	} catch ( err ) { // eslint-disable-line no-unused-vars
		bool = false;
	}
	return bool;
}


// EXPORTS //

module.exports = hasWeakSetSupport;
