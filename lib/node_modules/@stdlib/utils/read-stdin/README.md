# stdin

> Read data from `stdin`.

<section class="usage">

## Usage

```javascript
var stdin = require( '@stdlib/utils/read-stdin' );
```

#### stdin( \[encoding,] clbk )

Reads data from `stdin`.

```javascript
function onRead( error, data ) {
    if ( error ) {
        throw error;
    }
    console.log( data.toString() );
    // returns '...'
}

stdin( onRead );
```

By default, returned `data` is a [`Buffer`][buffer]. To return a `string` of a specified encoding, provide an `encoding` parameter.

```javascript
function onRead( error, data ) {
    if ( error ) {
        throw error;
    }
    console.log( data );
    // returns '...'
}

stdin( 'utf8', onRead );
```

When a file's calling Node.js process is running in a [TTY][tty] context (i.e., no `stdin`), `data` will either be an empty [`Buffer`][buffer] (no encoding provided) or an empty `string` (encoding provided).

```javascript
function onRead( error, data ) {
    if ( error ) {
        throw error;
    }
    console.log( data );
    // returns ''
}

process.stdin.isTTY = true;

stdin( 'utf8', onRead );
```

</section>

<!-- /.usage -->

<section class="examples">

## Examples

<!-- TODO: update once Buffer wrapper -->

<!-- eslint-disable no-buffer-constructor -->

```javascript
var Buffer = require( '@stdlib/buffer/ctor' );
var stdin = require( '@stdlib/utils/read-stdin' );

function onRead( error, data ) {
    if ( error ) {
        throw error;
    }
    console.log( data.toString() );
    // returns 'beep boop'
}

// Fake not being in a terminal context:
process.stdin.isTTY = false;

// Provide a callback to consume all data from `stdin`:
stdin( onRead );

// Push some data to `stdin`:
process.stdin.push( new Buffer( 'beep' ) );
process.stdin.push( new Buffer( ' ' ) );
process.stdin.push( new Buffer( 'boop' ) );

// End the stream:
process.stdin.push( null );
```

</section>

<!-- /.examples -->

<section class="links">

[buffer]: https://nodejs.org/api/buffer.html

[tty]: https://nodejs.org/api/tty.html#tty_tty

</section>

<!-- /.links -->
