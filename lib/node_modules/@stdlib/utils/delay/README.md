<!--

@license Apache-2.0

Copyright (c) 2022 The Stdlib Authors.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

-->

# delay

> Invoke a function after a specified duration.

<!-- Section to include introductory text. Make sure to keep an empty line after the intro `section` element and another before the `/section` close. -->

<section class="intro">

</section>

<!-- /.intro -->

<!-- Package usage documentation. -->

<section class="usage">

## Usage

```javascript
var delay = require( '@stdlib/utils/delay' );
```

#### delay( fcn, duration\[, ...args] )

Invokes a function after a specified duration.

```javascript
function beep() {
    console.log( 'beep' );
}

// Invoke a function after 3 seconds:
var t = delay( beep, 3000 );
// returns <Object>
```

The function supports providing additional arguments to pass through to the delayed function upon invocation. The delayed function receives additional arguments in the same order in which they are provided to `delay`.

```javascript
function add( x, y ) {
    var sum = x + y;
    console.log( 'sum: %d', sum );
}

var t = delay( add, 3000, 2, 3 );
// returns <Object>
```

The function returns a `timeout` object having properties and methods as documented below.
#### timeout.clear()

Clears a pending invocation of a function.

```javascript
function beep() {
    console.log( 'beep' );
}
var t = delay( beep, 3000 );
t.clear();
```

#### timeout.invoke()

Clears a pending invocation and invokes a function immediately.

```javascript
function beep() {
    console.log( 'beep' );
}
var t = delay( beep, 3000 );
t.invoke();
```

#### timeout.duration

Read-only value specifying the duration (in milliseconds) before invoking a delayed function.

```javascript
function beep() {
    console.log( 'beep' );
}
var t = delay( beep, 3000 );

var duration = t.duration;
// returns 3000
```

#### timeout.status

Read-only integer value indicating the status of a delayed function.

```javascript
function beep() {
    console.log( 'beep' );
}
var t = delay( beep, 3000 );

var status = t.status;
// returns 0

t.clear();
status = t.status;
// returns 2
```

A status may be one of the following values:

-   `0`: function invocation is pending.
-   `1`: function invocation is complete.
-   `2`: function invocation has been cleared.
</section>

<!-- /.usage -->

<!-- Package usage notes. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="notes">

## Notes

-   In contrast to using [`setTimeout`][mdn-settimeout], which returns a timeout identifier that can be used to clear a pending invocation by calling `clearTimeout`, the `delay` function returns a `timeout` object with additional properties and methods.

</section>

<!-- /.notes -->

<!-- Package usage examples. -->

<section class="examples">

## Examples

<!-- eslint no-undef: "error" -->

```javascript
var delay = require( '@stdlib/utils/delay' );

function beep() {
    console.log( 'beep' );
}
function boop() {
    console.log( 'boop' );
}
function baz() {
    console.log( 'baz' );
}

var t1 = delay( beep, 3000 );
var t2 = delay( boop, 1000 );
var t3 = delay( baz, 4000 );

t2.clear();

// Wait 3 seconds...
// => beep

// Wait 1 more second...
// => baz
```

</section>

<!-- /.examples -->

<!-- Section to include cited references. If references are included, add a horizontal rule *before* the section. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="references">

</section>

<!-- /.references -->

<!-- Section for related `stdlib` packages. Do not manually edit this section, as it is automatically populated. -->

<section class="related">

</section>

<!-- /.related -->

<!-- Section for all links. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="links">

</section>

<!-- /.links -->
