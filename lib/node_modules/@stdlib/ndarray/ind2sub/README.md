# ind2sub

> Convert a linear index to an array of subscripts.

<!-- Section to include introductory text. Make sure to keep an empty line after the intro `section` element and another before the `/section` close. -->

<section class="intro">

</section>

<!-- /.intro -->

<!-- Package usage documentation. -->

<section class="usage">

## Usage

```javascript
var ind2sub = require( '@stdlib/ndarray/ind2sub' );
```

#### ind2sub( \[out,] shape, idx\[, options] )

Converts a linear index to an array of subscripts.

```javascript
var shape = [ 2, 2 ];

var s = ind2sub( shape, 2 );
// returns [ 1, 0 ]
```

The function supports the following `options`:

-   `mode`: specifies how to handle a linear index which exceeds array dimensions. The following modes are supported:

    -   `throw`: specifies that the function should throw an error when a linear index exceeds array dimensions.
    -   `wrap`: specifies that the function should wrap around a linear index exceeding array dimensions using modulo arithmetic.
    -   `clamp`: specifies that the function should set a linear index exceeding array dimensions to either `0` (minimum linear index) or the maximum linear index.

-   `order`: specifies whether an array is `row-major` (C-style) or `column-major` (Fortran-style). Default: `'row-major'`.

By default, the function assumes a row-major array. To return subscripts for a column-major array, set the `order` option.

```javascript
var shape = [ 2, 2 ];
var opts = {};

opts.order = 'column-major';
var s = ind2sub( shape, 1, opts );
// returns [ 1, 0 ]
```

By default, the function throws an `error` if provided a linear index which exceeds array dimensions. To specify alternative behavior, set the `mode` option.

```javascript
var shape = [ 2, 2 ];
var opts = {};

opts.mode = 'wrap';
var s = ind2sub( shape, -5, opts );
// returns [ 1, 1 ]

opts.mode = 'clamp';
s = ind2sub( shape, 7, opts );
// returns [ 1, 1 ]
```

By default, the function returns subscripts in a new `array`. To avoid unnecessary memory allocation, the function supports providing an output (destination) object.

```javascript
var shape = [ 2, 2 ];
var out = new Array( shape.length );

var subscripts = ind2sub( out, shape, 1 );
// returns [ 0, 1 ]

var bool = ( subscripts === out );
// returns true
```

</section>

<!-- /.usage -->

<!-- Package usage notes. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="notes">

</section>

<!-- /.notes -->

<!-- Package usage examples. -->

<section class="examples">

## Examples

<!-- eslint no-undef: "error" -->

```javascript
var numel = require( '@stdlib/ndarray/base/numel' );
var ind2sub = require( '@stdlib/ndarray/ind2sub' );

var shape = [ 3, 3, 3 ];
var len = numel( shape );

var arr = new Array( len );
var i;
for ( i = 0; i < len; i++ ) {
    arr[ i ] = i;
}

var opts = {
    'order': 'column-major'
};

console.log( '' );
console.log( 'Dimensions: %s.', shape.join( 'x' ) );
console.log( 'View (subscripts):' );
console.log( '' );

var row;
var s;

row = '  ';
for ( i = 0; i < len; i++ ) {
    s = ind2sub( shape, i, opts );
    row += '(' + s.join( ',' ) + ')';
    if ( (i+1)%shape[0] === 0 ) {
        console.log( row );
        row = '  ';
    } else {
        row += ', ';
    }
    if ( (i+1)%(shape[0]*shape[1]) === 0 ) {
        console.log( '' );
    }
}
```

</section>

<!-- /.examples -->

<!-- Section to include cited references. If references are included, add a horizontal rule *before* the section. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="references">

</section>

<!-- /.references -->

<!-- Section for all links. Make sure to keep an empty line after the `section` element and another before the `/section` close. -->

<section class="links">

</section>

<!-- /.links -->
